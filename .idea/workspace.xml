<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ChangeListManager">
    <list default="true" id="3dcf5ba7-b1c6-4014-a0b3-f86ef7c67cb5" name="Default" comment="">
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block--local-actions-bloc_WimJMyxrQlA3iBmCbLQvSRH79/BsQxZZBYBF5BoW5B9gpeHwxr3r3pmtzCBEsKLiW3_JI.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block--local-tasks-block._umBNYtFIrIQMWhb4jUWHk6fyJ/n6eqnePjlmtd4JW-sFIn1PT1CLl5xM5utU4fJF0gijI.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block--search-form-block._D9VPvRcGUvvEmntcxeerY4EQe/ol9efRc2-3YGCp9IKTcIEoJHy2wXhCnMOUm7KRYEHKY.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block--system-branding-bl_HHzS289Na_MBowmc6BXqrR7MO/-0DeEZyienVEvoCfrIQDROAyKHGoxPzmPjlJ_NjL7EA.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block--system-menu-block._L5qcxYd0_EWfnyU1-01f5pYqj/iBG4kSIFCP3dZczb2UYOYVyrJOiri_LQ6cjZkW5dZzo.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block--system-messages-bl_7UCOAv2gzHr36v0U1Ucc88xED/ZNkSHp1QNhoqa3UUrhiniH1cLQyF-miNxFkfds5tDxk.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block.html.twig_HPXSU1wi4Tfg--dR3036twEzT/YauJXrnLes4KpUSMVVbfmQV8q1VDx_jkJOqPHUBtIDg.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block.html.twig_RaxcD_Ozyj4rZR7jTJXMDcNYp/kh9BFfogP_ETPS449H2yRs8rqQws2DwsbCLflxL4voo.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block.html.twig_SPyKCXAOAP3fcdrOgkAHxAZj_/BG3ixn-rK7vlRqT3_KgeyrDugYMhUxaKYTb29pHc9QM.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block.html.twig_iW39tUR4durjglqrkBDhN-xhS/FlDzpLZQ2aqXMLkVv4HAQUAAq9DDy-dpS4tdZju4Qaw.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_block.html.twig_v1vtrNDFY_4N-LDlKwwxs5Pw2/uTtJOEsEjTcaHIzvJ_CTUcDbLFPPGNDYY6qo1n1IP24.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_breadcrumb.html.twig_hBgYx2uzIcfK4935idFGXneah/cRybccTHNhpDzd1LrhrcZVc0uivCc0GOhJYEoo1oCcs.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_checkboxes.html.twig_AzbO48twscyDBBcbY2Vb1A_dR/Pzdt0kh_HVWxzohRGyuYAFY70iahczSoxsmm4HuA2fk.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_confirm-form.html.twig_2Ue_h1KiUDBhcZtXbM4PbbRyu/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_confirm-form.html.twig_2Ue_h1KiUDBhcZtXbM4PbbRyu/ebCwDv3pLvAUp6LtRRf5QTqb20ML3NqKhJUV0EevpGs.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_contact-popup-block.html.___Dzb1lFywbhsSPmQQHaONQGG/VADo77wYfkssrY5Hud7MHAhUWjNWBgGq71_Qe7NfqDI.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_container.html.twig_VlOuWWntm-IHiofIzq4WdI2w4/iqNq3c_NOqT8V5XtSJfmhYtg9JrLFeR6wGZYlEbnqFc.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_details.html.twig_Z80YAaSYzJSCRhW5HclO72nSA/Tc8FIjLnfWbaTqSMjTJLNuoGzuZDOPyyjFP8L9gGUfQ.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_dropbutton-wrapper.html.t_WKwjo6oOfw2xcE9dQQHJTG5hf/Szkkk7UzHt3dV7y6nMD6aq535GZmI6cWrMvyzrd7T00.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_feed-icon.html.twig_Dbwg2dafqKMqnmGRUl9meyNPo/X0ePqk21aEpj6SmKuHm7wYnIGJdaExHudZdoePqkHDk.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field--node--created.html_cd9R6RwwwdSSZZ6Mad-0qF2ij/LSOqc1I759xWgEU5q2QDJ2sMD0ZFjeMdTJkHPcv8N1g.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field--node--title.html.t_sZF3hPMAgslvKf5fv7vxFeebb/MIYu9OuRvXAui-JXXWS_pQ9nuE2W7HreoBy-8jlbsBg.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field--node--uid.html.twi_UfEsfiAGerBcn2UdJZZnPNwkl/oAaUlQfd3lQnm-sVANVYdLveXVvGdE0r2QI5tQfyt8U.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field--text-with-summary._bWIMwPKe9_-yFmyUooiy6RlfR/6oftJPkm3c4Tkw47STGYvn1LnNTVvCU8bK5xLB6gknM.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field--text.html.twig_QRokRSh6FCHqQzooG_1XDDBRv/eO5Ou0gn4fsukcHrVgmU-WkokGU-wYUAdwF79wRCTG4.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field-multiple-value-form_6Uv7h6WjwnpeksI4qbkpRlXNw/hhwXz6Y3kINVRx3yfjKOmYbomvlFKnmWm3urH8vgQpU.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field-ui-table.html.twig_KFSMQAkzzM2OAYJQKhnGk1dLE/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field-ui-table.html.twig_KFSMQAkzzM2OAYJQKhnGk1dLE/6lGbAS8F8Jg5Hs4PcoyUOk0FwGqZjstrToYIrJm9lIY.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field.html.twig_npdGx3SZTT_UeEV9cb7IUAtHp/jWK4-opgYWWuxkuiqeii4nmw9Mysl-7TVs9BXmguZ0A.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_field.html.twig_sg0aNDZNrB2qJXZQKh1ByVo-x/iGFl_9hatTJwF-jIXCJRqXHisfcEpuJAja4Y4ILV7EY.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_fieldset.html.twig_4VJBvqTTgUqD5ywY7lcUI-DWA/uRloglj3bJJADbl6jowPaluj5F_ygeO_IVPBwDZkodg.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_filter-guidelines.html.tw_UZPsqQ7B32WXIC0J4iqL6FrFT/oHGWwzz0EQ1PvUQQBOQnn1Oe6lcIjMY19Y0yN2mfeMU.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_filter-tips.html.twig_giumW8KGo51jRGQzRlRbSNLmx/9mGbAanRdZvsoB65050x7PJqXS41rZtGB9MEKtfCgp8.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_form-element-label.html.t_Pd-XL8twMCviF3mLD1cnhtg91/V_W3l6iK9JjjnS7ezIk4TuxQu-kifyeF75BnLJICgV8.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_form-element.html.twig_ht7TAmIlJNwH9VYn-bSJoul1F/BVjXKBdpvLMATMQaNGdAyYe1XI6dD6S9Ri90RE_2XYU.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_form.html.twig_dO8qERE_XigU_JEGx0Qk_qxUX/_6acIP1mMzCGr3Jr5Cvyn14Ui1rwb6nnmTS3vdgP2l8.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_html.html.twig_D_HJhoxQHrAoT9zuZVFZFbzdo/kodHrwQiTKmFftc4sd73eMuIiB0IA0JSGArPN5HwBpw.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_image-formatter.html.twig_8TtWQVIjbcAkzu8kyd0CkrpF9/pPMFrFCHnsGo8RX6CPGPA3a9gzB04r6odfvp-d1gpTQ.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_image-style.html.twig_ZluJ66_LGyvWyKxLC6D1NwHaJ/rUr7Bxcz988p_ImcUM_PGwBIefUNlWcgfmLAF6ddFlI.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_image.html.twig_scbWO1kLlO3sEiVybhl_qXp02/MVgvfuwH03cdOvpWOB-1QNNybGD9LE5mOpfhl2WtiVM.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_indentation.html.twig_biMdSZFSO1I20tc9WI7yles1w/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_indentation.html.twig_biMdSZFSO1I20tc9WI7yles1w/3GawnnQkhxP784GbwSJwTegZRHyxtOpt39MJIqDn-mI.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_inline-template_T-xhV_TNNJ3iO7wKK2rml8iOw/02DYek_oauWaKWHISB0j8Mi0_MHMg5Xa4ASWG_Pj8BY.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_inline-template_U14AovzfnsaINPcruxLPqxMG_/WdkZbi9mt5ev_yf9dYdeP35ohN5dpceT8hKO6oauFH0.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_inline-template_f9Mjrl2yf8Rq2zAr0n4lhwmFC/p3QyqV2QaWR3TFII6MXmax2ROPfasrBiuOjpHwymap4.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_inline-template_jpJj8qHokLlVrKAYf8Ec20K3I/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_inline-template_jpJj8qHokLlVrKAYf8Ec20K3I/mMxZMYIWYB4jaW94binN8TkShz_e2IP5dD8QMBLPa8Y.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_input.html.twig_72sYGCobaYKQ2kJcjrKRkr0zj/lI1p0COiaFWUj4OAd_51hE-F6RW2OHorSrw41BVG4sw.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_item-list.html.twig_yxcHvFqHAg8WhlKSXgc6pslck/Cl28AOG37RucfxLre_B_zPomAdHY0Qr080Z9oHLpRgg.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_links--node.html.twig_yuFS3lTJvLtIHDdeYVk3jrmv8/wsmpxJKhMSHg-Bi_A-OUb1GR6Amy9S4d_xE7vLY6vH4.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_links.html.twig_76sZujQlJBiWsh2WaMqdsexBZ/ZtSt0n2LJ7fsyFmClHQEFmQb6czbmQMymbBZRPY3yCI.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_menu--main.html.twig__FTQVIuj5mvzKO4D2DzHE1GYP/LWEuQ2-xvDVS-_D1F5URO82qpjSpvKYjWYJ3kVXVm8w.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_menu--toolbar.html.twig_6QqPDcnpvv_ZhQvQwEGeuYk7O/TTRXiZ-hVmehZNMa2oRq5-b5iuWLOMHBfzYHPcizqzI.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_menu-local-action.html.tw__gS8GX3PDrE5gw0EcCdcnaboE/xhAwJhZ5OCrJe3UQ_8BILiyhcx0Vvgi_t852MR9FFcc.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_menu-local-task.html.twig_gg4tn3zHDp3ouUi6ZXz2mEuYm/9pQqLFln9ALLxMezuK8s5SXbhr1J-tgMAQXhXKOlsNU.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_menu-local-tasks.html.twi_JGsL-idtO4AoqPT87z_IjHSJS/qIb-UHSV1lbSEzWDEFYagrB8uYR-2tH3yebIenAFQc0.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_menu-local-tasks.html.twi_elHtUTCmHv9uzVpnmL8qCRQ7B/Sho0QypI62vocfFKVv4aBA3M6n_O56GsiYC5ApStGGM.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_menu.html.twig_4xOHVz1aqSRlOFVDzkxiTuIDi/QLBsLEkB-nqLGXlPP7VW1_roR36qs4Bm_hMG10oJdqE.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_node.html.twig_e4G52kIBwlyQTEAY8kCz3IabS/8ccLRDo5SJlWWGu1AbV41_vZs5cnVlNwl6865ge18Lg.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_page-title.html.twig_fkSx3NiIOjt_LLIuYCEdASyx4/X38hI5Bh65-YDT1TQDBZ7Ow0Ooigz7ayPaiCaZligmM.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_page.html.twig_4OZ3cCI_7ux4o_qO6T_n1M2rB/sl6gPtMYXr-Pdv3vUQqceOeWe4QrQH0NvGucLDrfCGg.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_page.html.twig_TEiFD-GIBaoTrktUGhYEAQvhA/5ujwAd-dPei_JQk0NaahCKv7ZhwDmNNPNHiU5z-gjog.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_pager.html.twig_uyeGm3OWD5bGaM2mHFsS3AM2k/UgO3LQLu0DdBTfhkOgV6fmWU0kE-OrHBMZT6BWz-rrc.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_progress-bar.html.twig_nPedEFTS70D81zjmQyYb3bot_/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_progress-bar.html.twig_nPedEFTS70D81zjmQyYb3bot_/crzd9vIAPrEPi0tqXUQltzlTXd1y3cILrXuuUsDvkbY.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_radios.html.twig__OCzu0x2adIw-ihcqvyD671O3/9FxUWzIZq3vcGR9z1Ow3ZQm-nvk08pY96D87CJxAYiQ.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_rdf-metadata.html.twig_-NkKZzhmMTIBzIa77xJPLAqW5/U-USOpzeuoDWp6ZncnwoJ3gcODf1a_hyqjTYWri66YA.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_region.html.twig_ZvbLG8oD2e_IZl_DgjN-_KvG6/fiWTI7qp53GUl_B78-IYBBrsLYT28sub0kvn1YgP_KM.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_select.html.twig_dKGIoteydNw7ohNabrUq_dyhn/py0HrBaKZnhnIf7qDL1DirK1Ocyya6lBTn2JEOBcczU.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_seo-checklist-getting-sta_1LdqvlNlzsit_y5k79m-p0VSI/eDAA3paDeH5fB_V7V9GnnTznljzPg3tkVoHg2apy608.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_simple-gmap-output.html.t_ute8QqUey8h-p4ebOKjz_ZHhp/udrxEP2s0vOSTDRnhpphPnODi35L-vvI1dK1ECtYBu4.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_status-messages.html.twig_cCK9GX8pJFaVh3ZgXB_TLtjq-/atnNFjEQXhQusHwRTHH1J9GBq8-7kujXQQWYPjeyya8.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_system-modules-details.ht_T-Oh9Ba8SMBV-rydUJH7jhbd-/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_system-modules-details.ht_T-Oh9Ba8SMBV-rydUJH7jhbd-/wyXkSDdY99WUMLTe0nPKaPH40oZb6jXIeBCqBhA3_Zs.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_table.html.twig_WzfUyz-QigqQFjRyrFjCNRCJk/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_table.html.twig_WzfUyz-QigqQFjRyrFjCNRCJk/XZ6YLKvuP2IY3v0xpF85Jay7NrLpfG3kalobL-RLYKo.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_table.html.twig_xkt4vMZ7exw9bDa6gD27TBAXW/BkB2nTka-hxFmQvQKyhdMiy_Ar1vVNTSClbqyGDwAaw.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_tablesort-indicator.html._lFhc0FOuxhNTBx5VmSW_njAnk/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_tablesort-indicator.html._lFhc0FOuxhNTBx5VmSW_njAnk/4RDTJB3fs3DeKDmDV3xOfLX5wqEbhVSOpBWT_w_ShZs.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_text-format-wrapper.html._tD9TlEOTXc14PaPQnm1Ym4kWq/1t3Q4rbMEa2_cMrBqP1RFJ2XWX8WrFMsMTyYP5BE8Bk.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_textarea.html.twig_7csc1r8H7a2Pqw9WO8TMKJGuV/dBSNDFUW4n1pHmc1cgXp8K4nRQ4UDNxaG3UYWA6guY8.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_token-tree-link.html.twig_l3ssHKQM9rNTiFDMbYGIhugEa/zVmdR-sJH_XYlLhmKV_DdT2E7qmr0KyGSBMmRz0FZBc.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_toolbar.html.twig_gJHj4wk4BARhICNekhw9uJW4P/5TAnHS55NDiZfLlme5WTnVwBztpEZaiM_95o-qIeix8.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_username.html.twig_AqO_V7w1vSQ9eMcVmH9PSPeSG/pILqkoE-c61WDzP_AV7F19bi7vTloW0NadctfZNBeS4.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_vertical-tabs.html.twig_DCv0qs5avfhkjL0efLQ3oVxRH/QdwIz18ryKdP4e5VBDMpcMDzvGdHOciB9_eyHIOSnrk.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-exposed-form.html.t_MTJfdqVotqZB-RrAh5mbh-eBP/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-exposed-form.html.t_MTJfdqVotqZB-RrAh5mbh-eBP/x02UmGnpeVKzp_O26jx0y3Vk399fHGyxc-1_R3RrUxc.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-mini-pager.html.twi_471f54ma3tasN_GBRbUPxy2ii/tl7-GdtjhA96_4A7MMwsG4IwLAoeNwKgwn025oyabyI.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-ui-container.html.t_w1wjHM5ISd627JYTWaD8Smiq4/xQwBmgicXZTQ8ka2Jdz0e-r8-NRmGs1aUryx5DypmI8.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-ui-display-tab-buck_Q_CtcNQX3pbUUcghLa5_tVwXS/4Hmay8EOWYNXbtmLCMSgG79K3hFIFyZ-jbIylDqRU3k.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-ui-display-tab-sett_61lQX1-G50dp9fJU17Aol15wz/0MBSsmm9eDahiVAvzOIWJxCRp0jx7cnYyfxe1N39M10.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-ui-view-displays-li_lzMuo93gXDtSkj7q50FTT27dm/o33MJcsBKWhqR7piTJFavnYhOOpE8kAz_Fz0A9fDKTo.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-ui-view-preview-sec_aNuXqZSu-qUX0XaY7FReLiLsD/5mumk8ypoDdCE3QmSDIgslyaU-sRIa7D-r3pJY2EkkY.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-ui-views-listing-ta_mwdIKz4gjk96Rm0pxKedWthoc/Xn7mH-uvTRDbIOGnY4xduM9R18zQGTa0vTPYruU44bM.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-view-field.html.twi_QUQ2PE2qQQdqCx5awWsUjt45b/6Y2YHuNs0HOg5f5fp6ocGUxN6O4PtBtR1EH1xDY3L6A.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-view-fields.html.tw_Vyem2DPA0nY2jXrwag8GJnR3Y/Fqiz8BmUTXGusxVo2uXe3i4Ucf0Hm2L6h0nXITjzvck.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-view-grid.html.twig_Hd-t0KDWwSMK1mWV3yQbylZFD/ze5TT_RmfQfnT2kFN8b4-kpmKSpi8B-P5_Eh2qCSN2w.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-view-table.html.twi_SkD0E75ob_z2UiB3OqsJ6idyx/.htaccess" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-view-table.html.twi_SkD0E75ob_z2UiB3OqsJ6idyx/7PXJEKCHpBV3fnxomYgekymVkoNXwfp_gnPaTruUdgg.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-view-unformatted.ht_CgjSRFJOOMbite6430UZbNki9/qXBNT_E3Y5EzX2Y0SX_ViIO_VP1_iIs2zwDFrGj1R7U.php" afterPath="" />
      <change type="DELETED" beforePath="$PROJECT_DIR$/sites/default/files/php/twig/594139eb0f068_views-view.html.twig_mkPGdo9Xd7SFoPBFoGM05vcZG/j2fBpbCatFyn3bQkOXrHDD0EcdPPXS8NHTyuR55e3no.php" afterPath="" />
      <change type="MODIFICATION" beforePath="$PROJECT_DIR$/.idea/workspace.xml" afterPath="$PROJECT_DIR$/.idea/workspace.xml" />
      <change type="MODIFICATION" beforePath="$PROJECT_DIR$/sites/default/files/xmlsitemap/T43qaxwUQWS5cOCpwG2tGLGOF5UzykA0K-mCFL6oRhs/1.xml" afterPath="$PROJECT_DIR$/sites/default/files/xmlsitemap/T43qaxwUQWS5cOCpwG2tGLGOF5UzykA0K-mCFL6oRhs/1.xml" />
      <change type="MODIFICATION" beforePath="$PROJECT_DIR$/themes/aegan/css/local.css" afterPath="$PROJECT_DIR$/themes/aegan/css/local.css" />
      <change type="MODIFICATION" beforePath="$PROJECT_DIR$/themes/aegan/templates/page.html.twig" afterPath="$PROJECT_DIR$/themes/aegan/templates/page.html.twig" />
    </list>
    <list id="b7fbc43f-34ee-432d-b0df-48612602a3fc" name="diff --git a/config/schema/term_reference_tree.schema.yml b/config/schema/term_reference_tree.schema.yml new file mode 100644 index 0000000..299e8fd --- /dev/null +++ b/config/schema/term_reference_tree.schema.yml @@ -0,0 +1,19 @@ +field.widget.settings.term_reference_tree: +  type: mapping +  label: 'Term reference tree widget settings' +  mapping: +    start_minimized: +      type: boolean +      label: 'Start minimized' +    leaves_only: +      type: boolean +      label: 'Leaves only' +    select_parents: +      type: boolean +      label: 'Select parents automatically' +    cascading_selection: +      type: integer +      label: 'Cascading selection' +    max_depth: +      type: integer +      label: 'Maximum Depth' \ No newline at end of file diff --git a/src/Plugin/Field/FieldWidget/TermReferenceTree.php b/src/Plugin/Field/FieldWidget/TermReferenceTree.php index 0d309f2..ff8c8fd 100644 --- a/src/Plugin/Field/FieldWidget/TermReferenceTree.php +++ b/src/Plugin/Field/FieldWidget/TermReferenceTree.php @@ -1,4 +1,5 @@ -&lt;?php /** +&lt;?php +/**   * @file   * Contains \Drupal\term_reference_tree\Plugin\Field\FieldWidget\TermReferenceTree.   */ @@ -8,6 +9,7 @@ namespace Drupal\term_reference_tree\Plugin\Field\FieldWidget;  use Drupal\Core\Field\FieldItemListInterface;  use Drupal\Core\Field\WidgetBase;  use Drupal\Core\Form\FormStateInterface; +use Drupal\field\Entity\FieldStorageConfig;  use Drupal\taxonomy\Entity\Vocabulary;    /** @@ -19,19 +21,119 @@ use Drupal\taxonomy\Entity\Vocabulary;   * )   */  class TermReferenceTree extends WidgetBase { +  const CASCADING_SELECTION_NONE = '0'; +  const CASCADING_SELECTION_BOTH = '1'; +  const CASCADING_SELECTION_SELECT = '2'; +  const CASCADING_SELECTION_DESELECT = '3';   - /** +  /**     * {@inheritdoc}     */    public static function defaultSettings() { -    return parent::defaultSettings(); +    return [ +      'start_minimized' =&gt; TRUE, +      'leaves_only' =&gt; FALSE, +      'select_parents' =&gt; FALSE, +      'cascading_selection' =&gt; self::CASCADING_SELECTION_NONE, +      'max_depth' =&gt; 0, +    ] + parent::defaultSettings();    }      /**     * {@inheritdoc}     */    public function settingsForm(array $form, FormStateInterface $form_state) { -    return parent::settingsForm($form, $form_state); +    $form = parent::settingsForm($form, $form_state); + +    $form['start_minimized'] = [ +      '#type' =&gt; 'checkbox', +      '#title' =&gt; $this-&gt;t('Start minimized'), +      '#description' =&gt; $this-&gt;t('Make the tree appear minimized on the form by default'), +      '#default_value' =&gt; $this-&gt;getSetting('start_minimized'), +    ]; + +    $form['leaves_only'] = array( +      '#type' =&gt; 'checkbox', +      '#title' =&gt; t('Leaves only'), +      '#description' =&gt; t(&quot;Don't allow the user to select items that have children&quot;), +      '#default_value' =&gt; $this-&gt;getSetting('leaves_only'), +      '#return_value' =&gt; 1, +    ); + +    $form['select_parents'] = array( +      '#type' =&gt; 'checkbox', +      '#title' =&gt; t('Select parents automatically'), +      '#description' =&gt; t(&quot;When turned on, this option causes the widget to automatically select the ancestors of all selected items. In Leaves Only mode, the parents will be added invisibly to the selected value.  &lt;em&gt;This option is only valid if an unlimited number of values can be selected.&lt;/em&gt;&quot;), +      '#default_value' =&gt; $this-&gt;getSetting('select_parents'), +      '#return_value' =&gt; 1, +    ); + +    $form['cascading_selection'] = array( +      '#type' =&gt; 'select', +      '#title' =&gt; t('Cascading selection'), +      '#description' =&gt; t('On parent selection, automatically select children if none were selected. Some may then be manually unselected. In the same way, on parent unselection, unselect children if all were selected. &lt;em&gt;This option is only valid if an unlimited number of values can be selected.&lt;/em&gt;'), +      '#default_value' =&gt; $this-&gt;getSetting('cascading_selection'), +      '#options' =&gt; array( +        self::CASCADING_SELECTION_NONE =&gt; t('None'), +        self::CASCADING_SELECTION_BOTH =&gt; t('Select / deselect'), +        self::CASCADING_SELECTION_SELECT =&gt; t('Only select'), +        self::CASCADING_SELECTION_DESELECT =&gt; t('Only deselect'), +      ) +    ); + +    if ($this-&gt;fieldDefinition-&gt;getFieldStorageDefinition()-&gt;getCardinality() !== FieldStorageConfig::CARDINALITY_UNLIMITED) { +      $form['select_parents']['#disabled'] = TRUE; +      $form['select_parents']['#default_value'] = FALSE; +      $form['select_parents']['#description'] .= ' &lt;em&gt;' . $this-&gt;t(&quot;This option is only valid if an unlimited number of values can be selected.&quot;) . '&lt;/em&gt;'; + +      $form['cascading_selection']['#disabled'] = TRUE; +      $form['cascading_selection']['#default_value'] = self::CASCADING_SELECTION_NONE; +      $form['cascading_selection']['#description'] .= ' &lt;em&gt;' . $this-&gt;t(&quot;This option is only valid if an unlimited number of values can be selected.&quot;) . '&lt;/em&gt;'; +    } + +    $form['max_depth'] = [ +      '#type' =&gt; 'number', +      '#title' =&gt; $this-&gt;t('Maximum Depth'), +      '#description' =&gt; $this-&gt;t(&quot;Only show items up to this many levels deep.&quot;), +      '#default_value' =&gt; $this-&gt;getSetting('max_depth'), +      '#min' =&gt; 0, +    ]; + +    return $form; +  } + +  /** +   * {@inheritdoc} +   */ +  public function settingsSummary() { +    $summary = array(); + +    if ($this-&gt;getSetting('start_minimized')) { +      $summary[] = $this-&gt;t('Start minimized'); +    } + +    if ($this-&gt;getSetting('leaves_only')) { +      $summary[] = $this-&gt;t('Leaves only'); +    } + +    if ($this-&gt;getSetting('select_parents')) { +      $summary[] = $this-&gt;t('Select parents automatically'); +    } + +    $cascadingSelection = $this-&gt;getSetting('cascading_selection'); +    if ($cascadingSelection == self::CASCADING_SELECTION_BOTH) { +      $summary[] = $this-&gt;t('Cascading selection'); +    } else if ($cascadingSelection == self::CASCADING_SELECTION_SELECT) { +      $summary[] = sprintf('%s (%s)', $this-&gt;t('Cascading selection'), t('Only select')); +    } else if ($cascadingSelection == self::CASCADING_SELECTION_DESELECT) { +      $summary[] = sprintf('%s (%s)', $this-&gt;t('Cascading selection'), t('Only deselect')); +    } + +    if ($this-&gt;getSetting('max_depth')) { +      $summary[] = $this-&gt;formatPlural($this-&gt;getSetting('max_depth'), 'Maximum Depth: @count level', 'Maximum Depth: @count levels'); +    } + +    return $summary;    }      /** @@ -45,10 +147,12 @@ class TermReferenceTree extends WidgetBase {      $element['#default_value'] = $items-&gt;getValue();      $element['#vocabularies'] = $vocabularies;      $element['#max_choices'] = $this-&gt;fieldDefinition-&gt;getFieldStorageDefinition()-&gt;getCardinality(); -    $element['#leaves_only'] = FALSE; +    $element['#leaves_only'] = $this-&gt;getSetting('leaves_only'); +    $element['#select_parents'] = $this-&gt;getSetting('select_parents'); +    $element['#cascading_selection'] = $this-&gt;getSetting('cascading_selection');      $element['#value_key'] = 'target_id'; -    $element['#max_depth'] = 0; -    $element['#start_minimized'] = TRUE; +    $element['#max_depth'] = $this-&gt;getSetting('max_depth'); +    $element['#start_minimized'] = $this-&gt;getSetting('start_minimized');      $element['#element_validate'] = [[get_class($this), 'validateTermReferenceTreeElement']];      return $element;    } @@ -62,8 +166,6 @@ class TermReferenceTree extends WidgetBase {      if ($element['#max_choices'] != 1) {        foreach ($items as $child) {          if (!empty($child['#value'])) { -          array_push($value, array($element['#value_key'] =&gt; $child['#value'])); -            // If the element is leaves only and select parents is on, then automatically            // add all the parents of each selected value.            if (!empty($element['#select_parents']) &amp;&amp; !empty($element['#leaves_only'])) { @@ -73,6 +175,7 @@ class TermReferenceTree extends WidgetBase {                }              }            } +          array_push($value, array($element['#value_key'] =&gt; $child['#value']));          }        }      } diff --git a/term_reference_tree.js b/term_reference_tree.js index 61e5ed9..8730480 100644 --- a/term_reference_tree.js +++ b/term_reference_tree.js @@ -18,8 +18,8 @@ Drupal.behaviors.termReferenceTree = {      });      */   - -    $('.term-reference-tree', context).once('term-reference-tree', function() { +    // @todo: for some reason the original &quot;once&quot; implementation did not work +    $('.term-reference-tree', context).each(function() {        // On page load, check whether the maximum number of choices is already selected.        // If so, disable the other options.        var tree = $(this); @@ -28,6 +28,11 @@ Drupal.behaviors.termReferenceTree = {          checkMaxChoices(tree, $(this));        });   +      //On page load, check if the user wants a cascading selection. +      if($(this).hasClass('term-reference-tree-select-parents')) { +        $(this).find('.form-checkbox').parent().addClass('select-parents'); +      } +        //On page load, check if the user wants a track list. If so, add the        //currently selected items to it.        if($(this).hasClass('term-reference-tree-track-list-shown')) { @@ -108,25 +113,28 @@ Drupal.behaviors.termReferenceTree = {          //On page load, check if the user wants a cascading selection.        if($(this).hasClass('term-reference-tree-cascading-selection')) { +        var mode_select = $(this).hasClass('term-reference-tree-cascading-selection-mode-select'); +        var mode_deselect = $(this).hasClass('term-reference-tree-cascading-selection-mode-deselect');            //Check children when checkboxes are clicked.          $(this).find('.form-checkbox').change(function(event) {            var event_target = $(event.target); +          var event_target_checked = event_target.is(':checked');            var control_id = event_target.attr('id'); -          var children = event_target.parent().next().children().children('div.form-type-checkbox').children('input[id^=&quot;' + control_id + '-children&quot;]'); -          if(event_target.attr('checked')) { -            //Checkbox checked - check children if none were checked. -            if(!$(children).filter(':checked').length) { -              $(children).click().trigger('change'); +          var children = event_target.parent().next().children().children('div.js-form-type-checkbox').children('input[id^=&quot;' + control_id + '-children&quot;]'); + +          if (!mode_select &amp;&amp; !mode_deselect) { +            if(event_target_checked) { +              $(children).filter(':not(:checked)').click().trigger('change');              } -          } -          else { -            //Checkbox unchecked. Uncheck children if all were checked. -            if(!$(children).not(':checked').length) { -              $(children).click().trigger('change'); +            else { +              $(children).filter(':checked').click().trigger('change');              } +          } else if (mode_select &amp;&amp; event_target_checked) { +            $(children).filter(':not(:checked)').click().trigger('change'); +          } else if (mode_deselect &amp;&amp; !event_target_checked) { +            $(children).filter(':checked').click().trigger('change');            } -          });          //End process checkbox changes.        } //End Want a cascading checking. @@ -265,22 +273,20 @@ function checkMaxChoices(item, checkbox) {    }      if(checkbox) { -    if(item.hasClass('select-parents')) { +    if(item.hasClass('term-reference-tree-select-parents')) {        var track_list_container = item.find('.term-reference-tree-track-list'); -      var input_type = -          ( item.has('input[type=checkbox]').size() &gt; 0 ) ? 'checkbox' : 'radio';   -      if(checkbox.attr('checked')) { +      if(checkbox.prop('checked')) {          checkbox.parents('ul.term-reference-tree-level li').children('div.form-item').children('input[type=checkbox]').each(function() { -          $(this).attr('checked', checkbox.attr('checked')); +          $(this).prop('checked', true);              if(track_list_container) { -            label_element = $(this).next(); +            var label_element = $(this).next();              addItemToTrackList(                track_list_container,         //Where to add new item.                label_element.html(),         //Text of new item.                $(label_element).attr('for'), //Id of control new item is for. -              input_type                    //checkbox or radio +              (item.has('input[type=checkbox]').size() &gt; 0) ? 'checkbox' : 'radio'              );            }          }); diff --git a/term_reference_tree.module b/term_reference_tree.module index 49b7570..dcd9a4f 100644 --- a/term_reference_tree.module +++ b/term_reference_tree.module @@ -34,6 +34,7 @@ function term_reference_tree_theme() {   * Returns HTML for a checkbox_tree form element.   */  function theme_checkbox_tree($variables) { +    $element = $variables['element'];    $element['#children'] = drupal_render_children($element);   @@ -51,17 +52,28 @@ function theme_checkbox_tree($variables) {      $attributes['class'][] = &quot;term-reference-tree-collapsed&quot;;    }   -  if (array_key_exists('#cascading_selection', $element) &amp;&amp; $element['#cascading_selection']) { +  if (array_key_exists('#track_list', $element) &amp;&amp; $element['#track_list']) { +    $attributes['class'][] = &quot;term-reference-tree-track-list-shown&quot;; +  } + +  if(!empty($variables['element']['#select_parents'])) { +    $attributes['class'][] = &quot;term-reference-tree-select-parents&quot;; +  } + +  if($variables['element']['#cascading_selection'] != \Drupal\term_reference_tree\Plugin\Field\FieldWidget\TermReferenceTree::CASCADING_SELECTION_NONE) {      $attributes['class'][] = &quot;term-reference-tree-cascading-selection&quot;;    }   -  if (array_key_exists('#track_list', $element) &amp;&amp; $element['#track_list']) { -    $attributes['class'][] = &quot;term-reference-tree-track-list-shown&quot;; +  if($variables['element']['#cascading_selection'] == \Drupal\term_reference_tree\Plugin\Field\FieldWidget\TermReferenceTree::CASCADING_SELECTION_SELECT) { +    $attributes['class'][] = &quot;term-reference-tree-cascading-selection-mode-select&quot;; +  } else if($variables['element']['#cascading_selection'] == \Drupal\term_reference_tree\Plugin\Field\FieldWidget\TermReferenceTree::CASCADING_SELECTION_DESELECT) { +    $attributes['class'][] = &quot;term-reference-tree-cascading-selection-mode-deselect&quot;;    }      if (!empty($element['#attributes']['class'])) {      $attributes['class'] = array_merge($attributes['class'], $element['#attributes']['class']);    } +    return      '&lt;div' . new \Drupal\Core\Template\Attribute($attributes) . '&gt;'      . (!empty($element['#children']) ? $element['#children'] : '') @@ -307,13 +319,15 @@ function _term_reference_tree_build_item($element, $term, $form_state, $value, $    else {      $term_name = $term-&gt;name;    } +    $container = array(      '#type' =&gt; 'checkbox_tree_item',      '#max_choices' =&gt; $max_choices,      '#leaves_only' =&gt; $leaves_only,      '#term_name' =&gt; $term_name,      '#level_start_minimized' =&gt; FALSE, -    '#depth' =&gt; $depth, +    '#select_parents' =&gt; $element['#select_parents'], +    '#depth' =&gt; $depth    );      if (!$element['#leaves_only'] || count($term-&gt;children) == 0) {" comment="" />
    <list id="a3a8184e-8299-4d38-bce6-fbe926bc1a4c" name="term ref tree-formatter settings form-2837672-10" comment="">
      <change type="NEW" beforePath="" afterPath="$PROJECT_DIR$/core/modules/datetime_range/config/schema/term_reference_tree.schema.yml" />
    </list>
    <option name="EXCLUDED_CONVERTED_TO_IGNORED" value="true" />
    <file path="$PROJECT_DIR$/core/modules/datetime_range/config/schema/term_reference_tree.schema.yml" ignored="false" />
    <option name="TRACKING_ENABLED" value="true" />
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="CreatePatchCommitExecutor">
    <option name="PATCH_PATH" value="" />
  </component>
  <component name="DrupalConfiguration" enabled="true" version="8">
    <drupalPath>$PROJECT_DIR$</drupalPath>
  </component>
  <component name="ExecutionTargetManager" SELECTED_TARGET="default_target" />
  <component name="FileEditorManager">
    <leaf SIDE_TABS_SIZE_LIMIT_KEY="300">
      <file leaf-file-name="local.css" pinned="false" current-in-tab="true">
        <entry file="file://$PROJECT_DIR$/themes/aegan/css/local.css">
          <provider selected="true" editor-type-id="text-editor">
            <state relative-caret-position="546">
              <caret line="199" column="24" lean-forward="false" selection-start-line="199" selection-start-column="24" selection-end-line="199" selection-end-column="24" />
              <folding />
            </state>
          </provider>
        </entry>
      </file>
      <file leaf-file-name="page.html.twig" pinned="false" current-in-tab="false">
        <entry file="file://$PROJECT_DIR$/themes/aegan/templates/page.html.twig">
          <provider selected="true" editor-type-id="text-editor">
            <state relative-caret-position="549">
              <caret line="168" column="8" lean-forward="false" selection-start-line="168" selection-start-column="8" selection-end-line="168" selection-end-column="8" />
              <folding />
            </state>
          </provider>
        </entry>
      </file>
      <file leaf-file-name="toolbar.icons.theme.css" pinned="false" current-in-tab="false">
        <entry file="file://$PROJECT_DIR$/core/themes/stable/css/toolbar/toolbar.icons.theme.css">
          <provider selected="true" editor-type-id="text-editor">
            <state relative-caret-position="18">
              <caret line="148" column="0" lean-forward="false" selection-start-line="148" selection-start-column="0" selection-end-line="148" selection-end-column="44" />
              <folding />
            </state>
          </provider>
        </entry>
      </file>
      <file leaf-file-name="toolbar.menu.css" pinned="false" current-in-tab="false">
        <entry file="file://$PROJECT_DIR$/core/themes/stable/css/toolbar/toolbar.menu.css">
          <provider selected="true" editor-type-id="text-editor">
            <state relative-caret-position="18">
              <caret line="37" column="17" lean-forward="false" selection-start-line="37" selection-start-column="14" selection-end-line="37" selection-end-column="17" />
              <folding />
            </state>
          </provider>
        </entry>
      </file>
      <file leaf-file-name="style.css" pinned="false" current-in-tab="false">
        <entry file="file://$PROJECT_DIR$/themes/aegan/css/style.css">
          <provider selected="true" editor-type-id="text-editor">
            <state relative-caret-position="18">
              <caret line="100" column="1" lean-forward="false" selection-start-line="100" selection-start-column="1" selection-end-line="100" selection-end-column="1" />
              <folding />
            </state>
          </provider>
        </entry>
      </file>
      <file leaf-file-name="green.css" pinned="false" current-in-tab="false">
        <entry file="file://$PROJECT_DIR$/themes/aegan/css/green.css">
          <provider selected="true" editor-type-id="text-editor">
            <state relative-caret-position="309">
              <caret line="143" column="6" lean-forward="false" selection-start-line="143" selection-start-column="6" selection-end-line="143" selection-end-column="6" />
              <folding />
            </state>
          </provider>
        </entry>
      </file>
      <file leaf-file-name="flexslider.css" pinned="false" current-in-tab="false">
        <entry file="file://$PROJECT_DIR$/themes/aegan/css/flexslider.css">
          <provider selected="true" editor-type-id="text-editor">
            <state relative-caret-position="0">
              <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
              <folding />
            </state>
          </provider>
        </entry>
      </file>
    </leaf>
  </component>
  <component name="FindInProjectRecents">
    <findStrings>
      <find>active</find>
      <find>is-active</find>
      <find>menu</find>
      <find>region-header-right</find>
      <find>@media</find>
      <find>valueCallback</find>
    </findStrings>
  </component>
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="IdeDocumentHistory">
    <option name="CHANGED_PATHS">
      <list>
        <option value="$PROJECT_DIR$/themes/aegan/css/default.css" />
        <option value="$PROJECT_DIR$/themes/aegan/css/green.css" />
        <option value="$PROJECT_DIR$/themes/aegan/aegan.libraries.yml" />
        <option value="$PROJECT_DIR$/themes/aegan/css/style.css" />
        <option value="$PROJECT_DIR$/modules/term_reference_tree/src/Plugin/Field/FieldWidget/TermReferenceTree.php" />
        <option value="$PROJECT_DIR$/modules/patch/term_ref_tree-formatter_settings_form-2837672-10.patch" />
        <option value="$PROJECT_DIR$/themes/aegan/templates/page.html.twig" />
        <option value="$PROJECT_DIR$/themes/aegan/css/local.css" />
      </list>
    </option>
  </component>
  <component name="JsBuildToolGruntFileManager" detection-done="true" sorting="DEFINITION_ORDER" />
  <component name="JsBuildToolPackageJson" detection-done="true" sorting="DEFINITION_ORDER" />
  <component name="JsGulpfileManager">
    <detection-done>true</detection-done>
    <sorting>DEFINITION_ORDER</sorting>
  </component>
  <component name="PhpServers">
    <servers>
      <server host="localhost" id="7b6ff322-47f2-4294-9dd7-05288232c23c" name="localhost" />
    </servers>
  </component>
  <component name="PhpWorkspaceProjectConfiguration" backward_compatibility_performed="true" />
  <component name="ProjectFrameBounds">
    <option name="x" value="65" />
    <option name="y" value="24" />
    <option name="width" value="1215" />
    <option name="height" value="1000" />
  </component>
  <component name="ProjectView">
    <navigator currentView="ProjectPane" proportions="" version="1">
      <flattenPackages />
      <showMembers />
      <showModules />
      <showLibraryContents />
      <hideEmptyPackages />
      <abbreviatePackageNames />
      <autoscrollToSource />
      <autoscrollFromSource />
      <sortByType />
      <manualOrder />
      <foldersAlwaysOnTop value="true" />
    </navigator>
    <panes>
      <pane id="Scratches" />
      <pane id="Scope" />
      <pane id="ProjectPane">
        <subPane>
          <PATH>
            <PATH_ELEMENT>
              <option name="myItemId" value="tehelektra" />
              <option name="myItemType" value="com.intellij.ide.projectView.impl.nodes.ProjectViewProjectNode" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="tehelektra" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
          </PATH>
          <PATH>
            <PATH_ELEMENT>
              <option name="myItemId" value="tehelektra" />
              <option name="myItemType" value="com.intellij.ide.projectView.impl.nodes.ProjectViewProjectNode" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="tehelektra" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="themes" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
          </PATH>
          <PATH>
            <PATH_ELEMENT>
              <option name="myItemId" value="tehelektra" />
              <option name="myItemType" value="com.intellij.ide.projectView.impl.nodes.ProjectViewProjectNode" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="tehelektra" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="themes" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="aegan" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
          </PATH>
          <PATH>
            <PATH_ELEMENT>
              <option name="myItemId" value="tehelektra" />
              <option name="myItemType" value="com.intellij.ide.projectView.impl.nodes.ProjectViewProjectNode" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="tehelektra" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="themes" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="aegan" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
            <PATH_ELEMENT>
              <option name="myItemId" value="css" />
              <option name="myItemType" value="com.jetbrains.php.projectView.PhpTreeStructureProvider$1" />
            </PATH_ELEMENT>
          </PATH>
        </subPane>
      </pane>
    </panes>
  </component>
  <component name="PropertiesComponent">
    <property name="WebServerToolWindowFactoryState" value="false" />
    <property name="last_opened_file_path" value="$PROJECT_DIR$" />
    <property name="settings.editor.selected.configurable" value="php.drupal.base.configurable" />
    <property name="js.eslint.eslintPackage" value="" />
  </component>
  <component name="RunManager">
    <configuration default="true" type="JavaScriptTestRunnerProtractor" factoryName="Protractor">
      <config-file value="" />
      <node-interpreter value="project" />
      <envs />
      <method />
    </configuration>
    <configuration default="true" type="JavascriptDebugType" factoryName="JavaScript Debug">
      <method />
    </configuration>
    <configuration default="true" type="NodeJSConfigurationType" factoryName="Node.js" path-to-node="project" working-dir="">
      <method />
    </configuration>
    <configuration default="true" type="PHPUnitRunConfigurationType" factoryName="PHPUnit">
      <TestRunner />
      <method />
    </configuration>
    <configuration default="true" type="PhpBehatConfigurationType" factoryName="Behat">
      <BehatRunner />
      <method />
    </configuration>
    <configuration default="true" type="PhpLocalRunConfigurationType" factoryName="PHP Console">
      <method />
    </configuration>
    <configuration default="true" type="PhpSpecConfigurationType" factoryName="PHPSpec">
      <PhpTestRunnerSettings />
      <method />
    </configuration>
    <configuration default="true" type="js.build_tools.gulp" factoryName="Gulp.js">
      <node-interpreter>project</node-interpreter>
      <node-options />
      <gulpfile />
      <tasks />
      <arguments />
      <envs />
      <method />
    </configuration>
    <configuration default="true" type="js.build_tools.npm" factoryName="npm">
      <command value="run" />
      <scripts />
      <node-interpreter value="project" />
      <envs />
      <method />
    </configuration>
    <configuration default="true" type="mocha-javascript-test-runner" factoryName="Mocha">
      <node-interpreter>project</node-interpreter>
      <node-options />
      <working-directory />
      <pass-parent-env>true</pass-parent-env>
      <envs />
      <ui />
      <extra-mocha-options />
      <test-kind>DIRECTORY</test-kind>
      <test-directory />
      <recursive>false</recursive>
      <method />
    </configuration>
  </component>
  <component name="ShelveChangesManager" show_recycled="false">
    <option name="remove_strategy" value="false" />
  </component>
  <component name="SvnConfiguration">
    <configuration />
  </component>
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="3dcf5ba7-b1c6-4014-a0b3-f86ef7c67cb5" name="Default" comment="" />
      <changelist id="b7fbc43f-34ee-432d-b0df-48612602a3fc" name="diff --git a/config/schema/term_reference_tree.schema.yml b/config/schema/term_reference_tree.schema.yml new file mode 100644 index 0000000..299e8fd --- /dev/null +++ b/config/schema/term_reference_tree.schema.yml @@ -0,0 +1,19 @@ +field.widget.settings.term_reference_tree: +  type: mapping +  label: 'Term reference tree widget settings' +  mapping: +    start_minimized: +      type: boolean +      label: 'Start minimized' +    leaves_only: +      type: boolean +      label: 'Leaves only' +    select_parents: +      type: boolean +      label: 'Select parents automatically' +    cascading_selection: +      type: integer +      label: 'Cascading selection' +    max_depth: +      type: integer +      label: 'Maximum Depth' \ No newline at end of file diff --git a/src/Plugin/Field/FieldWidget/TermReferenceTree.php b/src/Plugin/Field/FieldWidget/TermReferenceTree.php index 0d309f2..ff8c8fd 100644 --- a/src/Plugin/Field/FieldWidget/TermReferenceTree.php +++ b/src/Plugin/Field/FieldWidget/TermReferenceTree.php @@ -1,4 +1,5 @@ -&lt;?php /** +&lt;?php +/**   * @file   * Contains \Drupal\term_reference_tree\Plugin\Field\FieldWidget\TermReferenceTree.   */ @@ -8,6 +9,7 @@ namespace Drupal\term_reference_tree\Plugin\Field\FieldWidget;  use Drupal\Core\Field\FieldItemListInterface;  use Drupal\Core\Field\WidgetBase;  use Drupal\Core\Form\FormStateInterface; +use Drupal\field\Entity\FieldStorageConfig;  use Drupal\taxonomy\Entity\Vocabulary;    /** @@ -19,19 +21,119 @@ use Drupal\taxonomy\Entity\Vocabulary;   * )   */  class TermReferenceTree extends WidgetBase { +  const CASCADING_SELECTION_NONE = '0'; +  const CASCADING_SELECTION_BOTH = '1'; +  const CASCADING_SELECTION_SELECT = '2'; +  const CASCADING_SELECTION_DESELECT = '3';   - /** +  /**     * {@inheritdoc}     */    public static function defaultSettings() { -    return parent::defaultSettings(); +    return [ +      'start_minimized' =&gt; TRUE, +      'leaves_only' =&gt; FALSE, +      'select_parents' =&gt; FALSE, +      'cascading_selection' =&gt; self::CASCADING_SELECTION_NONE, +      'max_depth' =&gt; 0, +    ] + parent::defaultSettings();    }      /**     * {@inheritdoc}     */    public function settingsForm(array $form, FormStateInterface $form_state) { -    return parent::settingsForm($form, $form_state); +    $form = parent::settingsForm($form, $form_state); + +    $form['start_minimized'] = [ +      '#type' =&gt; 'checkbox', +      '#title' =&gt; $this-&gt;t('Start minimized'), +      '#description' =&gt; $this-&gt;t('Make the tree appear minimized on the form by default'), +      '#default_value' =&gt; $this-&gt;getSetting('start_minimized'), +    ]; + +    $form['leaves_only'] = array( +      '#type' =&gt; 'checkbox', +      '#title' =&gt; t('Leaves only'), +      '#description' =&gt; t(&quot;Don't allow the user to select items that have children&quot;), +      '#default_value' =&gt; $this-&gt;getSetting('leaves_only'), +      '#return_value' =&gt; 1, +    ); + +    $form['select_parents'] = array( +      '#type' =&gt; 'checkbox', +      '#title' =&gt; t('Select parents automatically'), +      '#description' =&gt; t(&quot;When turned on, this option causes the widget to automatically select the ancestors of all selected items. In Leaves Only mode, the parents will be added invisibly to the selected value.  &lt;em&gt;This option is only valid if an unlimited number of values can be selected.&lt;/em&gt;&quot;), +      '#default_value' =&gt; $this-&gt;getSetting('select_parents'), +      '#return_value' =&gt; 1, +    ); + +    $form['cascading_selection'] = array( +      '#type' =&gt; 'select', +      '#title' =&gt; t('Cascading selection'), +      '#description' =&gt; t('On parent selection, automatically select children if none were selected. Some may then be manually unselected. In the same way, on parent unselection, unselect children if all were selected. &lt;em&gt;This option is only valid if an unlimited number of values can be selected.&lt;/em&gt;'), +      '#default_value' =&gt; $this-&gt;getSetting('cascading_selection'), +      '#options' =&gt; array( +        self::CASCADING_SELECTION_NONE =&gt; t('None'), +        self::CASCADING_SELECTION_BOTH =&gt; t('Select / deselect'), +        self::CASCADING_SELECTION_SELECT =&gt; t('Only select'), +        self::CASCADING_SELECTION_DESELECT =&gt; t('Only deselect'), +      ) +    ); + +    if ($this-&gt;fieldDefinition-&gt;getFieldStorageDefinition()-&gt;getCardinality() !== FieldStorageConfig::CARDINALITY_UNLIMITED) { +      $form['select_parents']['#disabled'] = TRUE; +      $form['select_parents']['#default_value'] = FALSE; +      $form['select_parents']['#description'] .= ' &lt;em&gt;' . $this-&gt;t(&quot;This option is only valid if an unlimited number of values can be selected.&quot;) . '&lt;/em&gt;'; + +      $form['cascading_selection']['#disabled'] = TRUE; +      $form['cascading_selection']['#default_value'] = self::CASCADING_SELECTION_NONE; +      $form['cascading_selection']['#description'] .= ' &lt;em&gt;' . $this-&gt;t(&quot;This option is only valid if an unlimited number of values can be selected.&quot;) . '&lt;/em&gt;'; +    } + +    $form['max_depth'] = [ +      '#type' =&gt; 'number', +      '#title' =&gt; $this-&gt;t('Maximum Depth'), +      '#description' =&gt; $this-&gt;t(&quot;Only show items up to this many levels deep.&quot;), +      '#default_value' =&gt; $this-&gt;getSetting('max_depth'), +      '#min' =&gt; 0, +    ]; + +    return $form; +  } + +  /** +   * {@inheritdoc} +   */ +  public function settingsSummary() { +    $summary = array(); + +    if ($this-&gt;getSetting('start_minimized')) { +      $summary[] = $this-&gt;t('Start minimized'); +    } + +    if ($this-&gt;getSetting('leaves_only')) { +      $summary[] = $this-&gt;t('Leaves only'); +    } + +    if ($this-&gt;getSetting('select_parents')) { +      $summary[] = $this-&gt;t('Select parents automatically'); +    } + +    $cascadingSelection = $this-&gt;getSetting('cascading_selection'); +    if ($cascadingSelection == self::CASCADING_SELECTION_BOTH) { +      $summary[] = $this-&gt;t('Cascading selection'); +    } else if ($cascadingSelection == self::CASCADING_SELECTION_SELECT) { +      $summary[] = sprintf('%s (%s)', $this-&gt;t('Cascading selection'), t('Only select')); +    } else if ($cascadingSelection == self::CASCADING_SELECTION_DESELECT) { +      $summary[] = sprintf('%s (%s)', $this-&gt;t('Cascading selection'), t('Only deselect')); +    } + +    if ($this-&gt;getSetting('max_depth')) { +      $summary[] = $this-&gt;formatPlural($this-&gt;getSetting('max_depth'), 'Maximum Depth: @count level', 'Maximum Depth: @count levels'); +    } + +    return $summary;    }      /** @@ -45,10 +147,12 @@ class TermReferenceTree extends WidgetBase {      $element['#default_value'] = $items-&gt;getValue();      $element['#vocabularies'] = $vocabularies;      $element['#max_choices'] = $this-&gt;fieldDefinition-&gt;getFieldStorageDefinition()-&gt;getCardinality(); -    $element['#leaves_only'] = FALSE; +    $element['#leaves_only'] = $this-&gt;getSetting('leaves_only'); +    $element['#select_parents'] = $this-&gt;getSetting('select_parents'); +    $element['#cascading_selection'] = $this-&gt;getSetting('cascading_selection');      $element['#value_key'] = 'target_id'; -    $element['#max_depth'] = 0; -    $element['#start_minimized'] = TRUE; +    $element['#max_depth'] = $this-&gt;getSetting('max_depth'); +    $element['#start_minimized'] = $this-&gt;getSetting('start_minimized');      $element['#element_validate'] = [[get_class($this), 'validateTermReferenceTreeElement']];      return $element;    } @@ -62,8 +166,6 @@ class TermReferenceTree extends WidgetBase {      if ($element['#max_choices'] != 1) {        foreach ($items as $child) {          if (!empty($child['#value'])) { -          array_push($value, array($element['#value_key'] =&gt; $child['#value'])); -            // If the element is leaves only and select parents is on, then automatically            // add all the parents of each selected value.            if (!empty($element['#select_parents']) &amp;&amp; !empty($element['#leaves_only'])) { @@ -73,6 +175,7 @@ class TermReferenceTree extends WidgetBase {                }              }            } +          array_push($value, array($element['#value_key'] =&gt; $child['#value']));          }        }      } diff --git a/term_reference_tree.js b/term_reference_tree.js index 61e5ed9..8730480 100644 --- a/term_reference_tree.js +++ b/term_reference_tree.js @@ -18,8 +18,8 @@ Drupal.behaviors.termReferenceTree = {      });      */   - -    $('.term-reference-tree', context).once('term-reference-tree', function() { +    // @todo: for some reason the original &quot;once&quot; implementation did not work +    $('.term-reference-tree', context).each(function() {        // On page load, check whether the maximum number of choices is already selected.        // If so, disable the other options.        var tree = $(this); @@ -28,6 +28,11 @@ Drupal.behaviors.termReferenceTree = {          checkMaxChoices(tree, $(this));        });   +      //On page load, check if the user wants a cascading selection. +      if($(this).hasClass('term-reference-tree-select-parents')) { +        $(this).find('.form-checkbox').parent().addClass('select-parents'); +      } +        //On page load, check if the user wants a track list. If so, add the        //currently selected items to it.        if($(this).hasClass('term-reference-tree-track-list-shown')) { @@ -108,25 +113,28 @@ Drupal.behaviors.termReferenceTree = {          //On page load, check if the user wants a cascading selection.        if($(this).hasClass('term-reference-tree-cascading-selection')) { +        var mode_select = $(this).hasClass('term-reference-tree-cascading-selection-mode-select'); +        var mode_deselect = $(this).hasClass('term-reference-tree-cascading-selection-mode-deselect');            //Check children when checkboxes are clicked.          $(this).find('.form-checkbox').change(function(event) {            var event_target = $(event.target); +          var event_target_checked = event_target.is(':checked');            var control_id = event_target.attr('id'); -          var children = event_target.parent().next().children().children('div.form-type-checkbox').children('input[id^=&quot;' + control_id + '-children&quot;]'); -          if(event_target.attr('checked')) { -            //Checkbox checked - check children if none were checked. -            if(!$(children).filter(':checked').length) { -              $(children).click().trigger('change'); +          var children = event_target.parent().next().children().children('div.js-form-type-checkbox').children('input[id^=&quot;' + control_id + '-children&quot;]'); + +          if (!mode_select &amp;&amp; !mode_deselect) { +            if(event_target_checked) { +              $(children).filter(':not(:checked)').click().trigger('change');              } -          } -          else { -            //Checkbox unchecked. Uncheck children if all were checked. -            if(!$(children).not(':checked').length) { -              $(children).click().trigger('change'); +            else { +              $(children).filter(':checked').click().trigger('change');              } +          } else if (mode_select &amp;&amp; event_target_checked) { +            $(children).filter(':not(:checked)').click().trigger('change'); +          } else if (mode_deselect &amp;&amp; !event_target_checked) { +            $(children).filter(':checked').click().trigger('change');            } -          });          //End process checkbox changes.        } //End Want a cascading checking. @@ -265,22 +273,20 @@ function checkMaxChoices(item, checkbox) {    }      if(checkbox) { -    if(item.hasClass('select-parents')) { +    if(item.hasClass('term-reference-tree-select-parents')) {        var track_list_container = item.find('.term-reference-tree-track-list'); -      var input_type = -          ( item.has('input[type=checkbox]').size() &gt; 0 ) ? 'checkbox' : 'radio';   -      if(checkbox.attr('checked')) { +      if(checkbox.prop('checked')) {          checkbox.parents('ul.term-reference-tree-level li').children('div.form-item').children('input[type=checkbox]').each(function() { -          $(this).attr('checked', checkbox.attr('checked')); +          $(this).prop('checked', true);              if(track_list_container) { -            label_element = $(this).next(); +            var label_element = $(this).next();              addItemToTrackList(                track_list_container,         //Where to add new item.                label_element.html(),         //Text of new item.                $(label_element).attr('for'), //Id of control new item is for. -              input_type                    //checkbox or radio +              (item.has('input[type=checkbox]').size() &gt; 0) ? 'checkbox' : 'radio'              );            }          }); diff --git a/term_reference_tree.module b/term_reference_tree.module index 49b7570..dcd9a4f 100644 --- a/term_reference_tree.module +++ b/term_reference_tree.module @@ -34,6 +34,7 @@ function term_reference_tree_theme() {   * Returns HTML for a checkbox_tree form element.   */  function theme_checkbox_tree($variables) { +    $element = $variables['element'];    $element['#children'] = drupal_render_children($element);   @@ -51,17 +52,28 @@ function theme_checkbox_tree($variables) {      $attributes['class'][] = &quot;term-reference-tree-collapsed&quot;;    }   -  if (array_key_exists('#cascading_selection', $element) &amp;&amp; $element['#cascading_selection']) { +  if (array_key_exists('#track_list', $element) &amp;&amp; $element['#track_list']) { +    $attributes['class'][] = &quot;term-reference-tree-track-list-shown&quot;; +  } + +  if(!empty($variables['element']['#select_parents'])) { +    $attributes['class'][] = &quot;term-reference-tree-select-parents&quot;; +  } + +  if($variables['element']['#cascading_selection'] != \Drupal\term_reference_tree\Plugin\Field\FieldWidget\TermReferenceTree::CASCADING_SELECTION_NONE) {      $attributes['class'][] = &quot;term-reference-tree-cascading-selection&quot;;    }   -  if (array_key_exists('#track_list', $element) &amp;&amp; $element['#track_list']) { -    $attributes['class'][] = &quot;term-reference-tree-track-list-shown&quot;; +  if($variables['element']['#cascading_selection'] == \Drupal\term_reference_tree\Plugin\Field\FieldWidget\TermReferenceTree::CASCADING_SELECTION_SELECT) { +    $attributes['class'][] = &quot;term-reference-tree-cascading-selection-mode-select&quot;; +  } else if($variables['element']['#cascading_selection'] == \Drupal\term_reference_tree\Plugin\Field\FieldWidget\TermReferenceTree::CASCADING_SELECTION_DESELECT) { +    $attributes['class'][] = &quot;term-reference-tree-cascading-selection-mode-deselect&quot;;    }      if (!empty($element['#attributes']['class'])) {      $attributes['class'] = array_merge($attributes['class'], $element['#attributes']['class']);    } +    return      '&lt;div' . new \Drupal\Core\Template\Attribute($attributes) . '&gt;'      . (!empty($element['#children']) ? $element['#children'] : '') @@ -307,13 +319,15 @@ function _term_reference_tree_build_item($element, $term, $form_state, $value, $    else {      $term_name = $term-&gt;name;    } +    $container = array(      '#type' =&gt; 'checkbox_tree_item',      '#max_choices' =&gt; $max_choices,      '#leaves_only' =&gt; $leaves_only,      '#term_name' =&gt; $term_name,      '#level_start_minimized' =&gt; FALSE, -    '#depth' =&gt; $depth, +    '#select_parents' =&gt; $element['#select_parents'], +    '#depth' =&gt; $depth    );      if (!$element['#leaves_only'] || count($term-&gt;children) == 0) {" comment="" />
      <changelist id="a3a8184e-8299-4d38-bce6-fbe926bc1a4c" name="term ref tree-formatter settings form-2837672-10" comment="" />
      <created>1497450900291</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1497450900291</updated>
      <workItem from="1497450904522" duration="851000" />
      <workItem from="1498034662707" duration="863000" />
      <workItem from="1498226031419" duration="819000" />
      <workItem from="1499079058209" duration="116000" />
      <workItem from="1499086142661" duration="1807000" />
      <workItem from="1499333082010" duration="4705000" />
      <workItem from="1499343296645" duration="161000" />
      <workItem from="1499427651845" duration="916000" />
      <workItem from="1499686792809" duration="12493000" />
      <workItem from="1499756158554" duration="596000" />
      <workItem from="1499757586167" duration="792000" />
      <workItem from="1499770147917" duration="8330000" />
      <workItem from="1499842125598" duration="843000" />
      <workItem from="1499851126304" duration="21513000" />
    </task>
    <servers />
  </component>
  <component name="TimeTrackingManager">
    <option name="totallyTimeSpent" value="54805000" />
  </component>
  <component name="ToolWindowManager">
    <frame x="65" y="24" width="1215" height="1000" extended-state="6" />
    <editor active="false" />
    <layout>
      <window_info id="Project" active="false" anchor="left" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="true" show_stripe_button="true" weight="0.20872541" sideWeight="0.5" order="0" side_tool="false" content_ui="combo" />
      <window_info id="TODO" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.33" sideWeight="0.5" order="6" side_tool="false" content_ui="tabs" />
      <window_info id="Event Log" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.33" sideWeight="0.5" order="7" side_tool="true" content_ui="tabs" />
      <window_info id="Database" active="false" anchor="right" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.33" sideWeight="0.5" order="3" side_tool="false" content_ui="tabs" />
      <window_info id="Find" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.30487806" sideWeight="0.5" order="1" side_tool="false" content_ui="tabs" />
      <window_info id="Version Control" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.33" sideWeight="0.5" order="7" side_tool="false" content_ui="tabs" />
      <window_info id="Run" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.33" sideWeight="0.5" order="2" side_tool="false" content_ui="tabs" />
      <window_info id="Structure" active="false" anchor="left" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.25" sideWeight="0.5" order="1" side_tool="false" content_ui="tabs" />
      <window_info id="Terminal" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.3292683" sideWeight="0.5" order="7" side_tool="false" content_ui="tabs" />
      <window_info id="Favorites" active="false" anchor="left" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.33" sideWeight="0.5" order="2" side_tool="true" content_ui="tabs" />
      <window_info id="Debug" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.3991131" sideWeight="0.5" order="3" side_tool="false" content_ui="tabs" />
      <window_info id="Cvs" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.25" sideWeight="0.5" order="4" side_tool="false" content_ui="tabs" />
      <window_info id="Messages" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.33" sideWeight="0.5" order="7" side_tool="false" content_ui="tabs" />
      <window_info id="Message" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.33" sideWeight="0.5" order="0" side_tool="false" content_ui="tabs" />
      <window_info id="Commander" active="false" anchor="right" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.4" sideWeight="0.5" order="0" side_tool="false" content_ui="tabs" />
      <window_info id="Inspection" active="false" anchor="bottom" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.4" sideWeight="0.5" order="5" side_tool="false" content_ui="tabs" />
      <window_info id="Hierarchy" active="false" anchor="right" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.25" sideWeight="0.5" order="2" side_tool="false" content_ui="combo" />
      <window_info id="Ant Build" active="false" anchor="right" auto_hide="false" internal_type="DOCKED" type="DOCKED" visible="false" show_stripe_button="true" weight="0.25" sideWeight="0.5" order="1" side_tool="false" content_ui="tabs" />
    </layout>
  </component>
  <component name="TypeScriptGeneratedFilesManager">
    <option name="processedProjectFiles" value="true" />
  </component>
  <component name="VcsContentAnnotationSettings">
    <option name="myLimit" value="2678400000" />
  </component>
  <component name="XDebuggerManager">
    <breakpoint-manager>
      <breakpoints>
        <line-breakpoint enabled="true" type="php">
          <url>file://$PROJECT_DIR$/modules/term_reference_tree/src/Element/CheckboxTree.php</url>
          <line>78</line>
        </line-breakpoint>
      </breakpoints>
      <option name="time" value="1" />
    </breakpoint-manager>
    <watches-manager />
  </component>
  <component name="editorHistoryManager">
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/flexslider.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.libraries.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="144">
          <caret line="8" column="0" lean-forward="false" selection-start-line="8" selection-start-column="0" selection-end-line="8" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.info.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="198">
          <caret line="11" column="16" lean-forward="false" selection-start-line="11" selection-start-column="16" selection-end-line="11" selection-end-column="16" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/local.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="594">
          <caret line="33" column="13" lean-forward="false" selection-start-line="33" selection-start-column="13" selection-end-line="33" selection-end-column="13" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/style.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="1800">
          <caret line="100" column="1" lean-forward="false" selection-start-line="100" selection-start-column="1" selection-end-line="100" selection-end-column="1" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/green.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="2574">
          <caret line="143" column="6" lean-forward="false" selection-start-line="143" selection-start-column="6" selection-end-line="143" selection-end-column="6" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/flexslider.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.libraries.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="144">
          <caret line="8" column="0" lean-forward="false" selection-start-line="8" selection-start-column="0" selection-end-line="8" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.info.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="198">
          <caret line="11" column="16" lean-forward="false" selection-start-line="11" selection-start-column="16" selection-end-line="11" selection-end-column="16" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/local.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="594">
          <caret line="33" column="13" lean-forward="false" selection-start-line="33" selection-start-column="13" selection-end-line="33" selection-end-column="13" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/style.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="1800">
          <caret line="100" column="1" lean-forward="false" selection-start-line="100" selection-start-column="1" selection-end-line="100" selection-end-column="1" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/green.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="2574">
          <caret line="143" column="6" lean-forward="false" selection-start-line="143" selection-start-column="6" selection-end-line="143" selection-end-column="6" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/flexslider.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.libraries.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="504">
          <caret line="28" column="24" lean-forward="false" selection-start-line="28" selection-start-column="24" selection-end-line="28" selection-end-column="24" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.info.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="396">
          <caret line="22" column="28" lean-forward="false" selection-start-line="22" selection-start-column="23" selection-end-line="22" selection-end-column="28" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/green.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="2574">
          <caret line="143" column="6" lean-forward="false" selection-start-line="143" selection-start-column="6" selection-end-line="143" selection-end-column="6" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/local.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.info.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.libraries.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="504">
          <caret line="28" column="24" lean-forward="false" selection-start-line="28" selection-start-column="24" selection-end-line="28" selection-end-column="24" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/green.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="2574">
          <caret line="143" column="6" lean-forward="false" selection-start-line="143" selection-start-column="6" selection-end-line="143" selection-end-column="6" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/local.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.info.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.libraries.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="504">
          <caret line="28" column="24" lean-forward="true" selection-start-line="28" selection-start-column="24" selection-end-line="28" selection-end-column="24" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/blue.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/default.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="1206">
          <caret line="67" column="18" lean-forward="false" selection-start-line="67" selection-start-column="18" selection-end-line="67" selection-end-column="18" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/green.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/blue.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/default.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="2304">
          <caret line="128" column="27" lean-forward="false" selection-start-line="128" selection-start-column="27" selection-end-line="128" selection-end-column="27" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/green.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/blue.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/default.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/default.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="18">
          <caret line="67" column="18" lean-forward="false" selection-start-line="67" selection-start-column="18" selection-end-line="67" selection-end-column="18" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/blue.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/includes/bootstrap/js/bootstrap.min.js">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/includes/bootstrap/css/bootstrap.min.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="-1350">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/templates/block.html.twig">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="-307">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.libraries.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="126">
          <caret line="7" column="17" lean-forward="false" selection-start-line="7" selection-start-column="0" selection-end-line="8" selection-end-column="0" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/aegan.info.yml">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="358">
          <caret line="35" column="15" lean-forward="false" selection-start-line="35" selection-start-column="15" selection-end-line="35" selection-end-column="15" />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/flexslider.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/modules/term_reference_tree/src/Element/CheckboxTreeItem.php">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="0">
          <caret line="0" column="0" lean-forward="false" selection-start-line="0" selection-start-column="0" selection-end-line="0" selection-end-column="0" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/core/modules/file/src/Plugin/Field/FieldWidget/FileWidget.php">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="199">
          <caret line="323" column="27" lean-forward="false" selection-start-line="323" selection-start-column="27" selection-end-line="323" selection-end-column="27" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/modules/term_reference_tree/src/Element/CheckboxTree.php">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="544">
          <caret line="78" column="0" lean-forward="false" selection-start-line="78" selection-start-column="0" selection-end-line="78" selection-end-column="0" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/modules/patch/term_ref_tree-formatter_settings_form-2837672-10.patch">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="282">
          <caret line="325" column="4" lean-forward="false" selection-start-line="325" selection-start-column="4" selection-end-line="350" selection-end-column="12" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/core/lib/Drupal/Core/Form/FormBuilder.php">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="179">
          <caret line="979" column="0" lean-forward="false" selection-start-line="979" selection-start-column="0" selection-end-line="979" selection-end-column="0" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/modules/term_reference_tree/src/Plugin/Field/FieldWidget/TermReferenceTree.php">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="2412">
          <caret line="170" column="25" lean-forward="false" selection-start-line="170" selection-start-column="25" selection-end-line="170" selection-end-column="25" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/core/themes/stable/css/toolbar/toolbar.icons.theme.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="18">
          <caret line="148" column="0" lean-forward="false" selection-start-line="148" selection-start-column="0" selection-end-line="148" selection-end-column="44" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/core/themes/stable/css/toolbar/toolbar.menu.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="18">
          <caret line="37" column="17" lean-forward="false" selection-start-line="37" selection-start-column="14" selection-end-line="37" selection-end-column="17" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/style.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="18">
          <caret line="100" column="1" lean-forward="false" selection-start-line="100" selection-start-column="1" selection-end-line="100" selection-end-column="1" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/green.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="309">
          <caret line="143" column="6" lean-forward="false" selection-start-line="143" selection-start-column="6" selection-end-line="143" selection-end-column="6" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/templates/page.html.twig">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="549">
          <caret line="168" column="8" lean-forward="false" selection-start-line="168" selection-start-column="8" selection-end-line="168" selection-end-column="8" />
          <folding />
        </state>
      </provider>
    </entry>
    <entry file="file://$PROJECT_DIR$/themes/aegan/css/local.css">
      <provider selected="true" editor-type-id="text-editor">
        <state relative-caret-position="546">
          <caret line="199" column="24" lean-forward="false" selection-start-line="199" selection-start-column="24" selection-end-line="199" selection-end-column="24" />
          <folding />
        </state>
      </provider>
    </entry>
  </component>
</project>